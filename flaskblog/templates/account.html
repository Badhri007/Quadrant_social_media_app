{% extends "layout.html" %}
{% block content %}
<div class="c">
	<div class="content" style="display: flex;"  >
	  <img class="rounded-circle account-img" src="{{ image_file }}">
	  <!-- <div class="mediaContent" > -->
		<br>	
	<div class="article-metadata" style="justify-content: space-between;">
		<div>
			<h3 class="text-danger">{{ current_user.username }}</h3>
			<p class="text-secondary">{{current_user.email }}</p>
	    </div>
		<h4><a class="text-primary" style="align-self: flex-end;"href="{{url_for('user_posts',username=current_user.username)}}">My Posts</a></h4>
	</div>
	<!-- </div> -->
	  
	   
	  
	</div>
	<div style="display:flex;gap:5px" >
		<div class="btn btn-primary" onclick="window.location.href='account/followers'">
			My Followers
		</div>
		
		<div class="btn btn-secondary" onclick="window.location.href='account/following'">
			Following
		</div>
	</div>
	<br>
	<form method="POST" action="" enctype="multipart/form-data">
		{{ form.hidden_tag() }}
		<fieldset class="form-group">
		   <b><legend class=" text-dark  border-bottom mb-4 ">Update Profile Details</legend>	</b>
			
			
			<div class="form-group">
				{{ form.username.label(class="form-control-label") }}
				 {% if form.username.errors %}
					{{ form.username(class="form-control form-control-lg is-invalid") }}
					<div class="invalid-feedback">
						{% for error in form.username.errors %}
							<span>{{ error }}</span>
						{% endfor %}
				 	</div>
				 {% else %}
					{{ form.username(class="form-control form-control-lg") }}
				{% endif %}
			</div>
			
			
			
			<div class="form-group">
				{{ form.email.label(class="form-control-label") }}
				{% if form.email.errors %}
					{{ form.email(class="form-control form-control-lg is-invalid") }}
					<div class="invalid-feedback">
						{% for error in form.email.errors %}
							<span>{{ error }}</span>
						{% endfor %}
					</div>
				{% else %}
					{{ form.email(class="form-control form-control-lg") }}
				{% endif %}
			</div>
			
            <div class="form-group">
				{{form.picture.label()}}
				{{ form.picture(class="form-control-file") }}
				{% if form.picture.errors %}
					{% for error in form.picture.errors %}
						<span class='text-danger'>{{ error}}</span></br>
					{% endfor %}
				{% endif %}
            </div>

		</fieldset>
		<div class="form-group">
			{{ form.submit(class="btn btn-secondary") }}
		</div>
	
	</form>

  </div>
 
  {% endblock content%}

 